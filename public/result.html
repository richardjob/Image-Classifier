<html>

<head>
  <script src="tf.min.js"></script>
  <script src="mobilenet.js"></script>

  <style>

    body {
      background: #ecf1f4
    }

    button{
      padding: 10px;
    }

    button:hover{
      background-color: #bac675;
    }

    div {
      text-align: center;
    }

    p{
      text-align: center;
      font-size: xx-large;
    }


  </style>

</head>

<body>

  <div>
    <img id="img" src="image.jpg" width="60%" height="70%">
  </div>
  <p id="result"></p>
  <div>
    <button onclick="location.href='index.html'">Upload Another Image</button>
  </div>

  <script>
    const img = document.getElementById('img');
    const version = 2;
    const alpha = 0.5;

    async function run() {
      // Load the model.
      const model = await mobilenet.load({ version, alpha });

      // Classify the image.
      const predictions = await model.classify(img);
      console.log('Predictions');
      console.log(predictions);

      document.getElementById('result').innerHTML = "Prediction: " + predictions[0].className


      // Get the logits.
      // const logits = model.infer(img);
      // console.log('Logits');
      // logits.print(true);

      // Get the embedding.
      // const embedding = model.infer(img, true);
      // console.log('Embedding');
      // embedding.print(true);
    }
    run();
  </script>

</body>

</html>